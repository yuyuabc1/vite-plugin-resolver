{"code":"import * as fs from 'fs';\r\nfunction parsePagesDirectory() {\r\n    const files = fs.readdirSync('./src/views').map((f) => ({ name: f.split('.')[0], importPath: `/src/views/${f}` }));\r\n    const imports = files.map((f) => `import ${f.name} from '${f.importPath}'`);\r\n    const routes = files.map((f) => `{ name: '${f.name}', path: '/${f.name}',component: ${f.name},}`);\r\n    return { imports, routes };\r\n}\r\nexport default function generate() {\r\n    const { imports, routes } = parsePagesDirectory();\r\n    const moduleContent = `${imports.join('')}    export const routes = [${routes.join(', ')}]`;\r\n    const configureServer = [async ({ app }) => {\r\n            app.use(async (ctx, next) => {\r\n                if (ctx.path.startsWith('/@modules/vue-auto-routes')) {\r\n                    ctx.type = 'js';\r\n                    ctx.body = moduleContent;\r\n                }\r\n                else {\r\n                    await next();\r\n                }\r\n            });\r\n        }];\r\n    return { configureServer };\r\n}\r\n;\r\n","references":[],"dts":{"name":"/Users/zhuchenliang/packages/vite-plugin-resolver/node_modules/.cache/rollup-plugin-typescript2/placeholder/route.d.ts","writeByteOrderMark":false,"text":"export default function generate(): {\r\n    configureServer: (({ app }: {\r\n        app: any;\r\n    }) => Promise<void>)[];\r\n};\r\n"}}
